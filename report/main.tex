\documentclass[a4paper,11pt,titlepage,twoside,listof=totoc,bibliography=totoc,parskip=half]{scrbook}

% recommended defaults
\usepackage{babel}%
\usepackage[utf8]{inputenc}%
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{siunitx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[round]{natbib}   % omit 'round' option if you prefer square brackets
\bibliographystyle{plainnat}
\sisetup{per-mode=fraction}


% optional packages, yet recommended
\usepackage{amsmath,amssymb,amsthm} 
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{microtype}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage[style=english]{csquotes}
\usepackage{float}
\usepackage[section]{placeins}
\usepackage{derivative}
\usepackage{minted}
\usepackage{enumitem}
\usepackage{pgffor}
\usepackage{layouts}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}

\usepackage[automark]{scrlayer-scrpage}
\pagestyle{scrheadings}

% configure some packages and macros
\usepackage{xspace}
\newcommand*{\zb}{z.B.\@\xspace}
\newcommand*\InputTable[1]{\input{./tables/#1.tex}}

\DeclareSIUnit\J{J}
\DeclareSIUnit\kb{k_B}
\newcommand*{\carry}[1][1]{\overset{#1}}
\newcolumntype{B}[1]{r*{#1}{@{\,}r}}
%\AddToHook{cmd/section/before}{\clearpage}
\graphicspath{ {../figures/} }

\DeclareSIUnit\joule{Joule}

\title{Studying the Kosterlitz-Thouless Transition of the two-dimensional XY Model using Monte Carlo Methods}
\author{Lennart Voorgang}
\date{}
\publishers{\LARGE
	\begin{otherlanguage}{ngerman}
		Bachelorarbeit in Physik\\
		angefertigt am\\
		Helmholtz-Institut für Strahlen- und Kernphysik\\[3ex]
		vorgelegt der\\
		Mathematisch-Naturwissenschaftlichen Fakultät\\
		der\\
		Rheinischen Friedrich-Wilhelms-Universität\\
		Bonn\\[3ex]
		August 2025
	\end{otherlanguage}
	\vspace*{\fill}
}
\lowertitleback{%
	\begin{otherlanguage}{ngerman}
		I hereby declare that this thesis was formulated by me and that no sources or tools other than those cited were used.
		
		\vspace*{6ex minus 0.5ex}
		
		\begin{tabular}{@{}lc@{\hspace*{4.0cm}}c}
			Bonn, &  \makebox[3cm]{\dotfill} & \makebox[6cm]{\dotfill}\\
			& Date & Signature
		\end{tabular}
	\end{otherlanguage}
	
	\vspace*{10ex minus 4ex}
	
	\noindent
	\begin{otherlanguage}{ngerman}
		\begin{tabular}{@{}ll}
			1. Assessor: & Prof. Dr. Stefan Krieg \\
			2. Assessor: & Prof. Dr. Thomas Luu
		\end{tabular}
	\end{otherlanguage}
}


\newcommand{\Observable}[3]{\begin{figure}[htbp]
		\centering
		\includegraphics[width=0.8\textwidth]{../figures/#1/#2.pdf}
		\caption[Temperature dependence of the #3 per spin (#1)]{Temperature dependence of the #3 per spin using the #1 algorithm for lattice sizes $L \in \{4, 32, 128, 368\}$.}
		\label{fig:obs:#1:#2}
\end{figure}}

\newcommand{\Error}[3]{\begin{figure}[htbp]
		\centering
		\includegraphics[width=0.7\textwidth]{../figures/#1/#2_Errors.pdf}
		\caption[Temperature dependence of the #3 per spin errors (#1)]{Temperature dependence of the #3 per spin errors using the #1 algorithm for lattice sizes $L \in \{4, 32, 128, 368\}$.}
		\label{fig:obs:#1:#2:errors}
\end{figure}}

\newcommand{\Autocorrelation}[3]{\begin{figure}[htbp]
		\centering
		\includegraphics[width=0.8\textwidth]{../figures/#1/#2_Autocorrelation.pdf}
		\caption[Autocorrelation function $\Gamma(\Delta t)$ of the #3 per spin (#1)]{Autocorrelation function $\Gamma(\Delta t)$ of the #3 per spin using the #1 algorithm for $L=8$.}
		\label{fig:obs:#1:#2:autocorrelation}
\end{figure}}

\newcommand{\IntegratedAutocorrelation}[3]{\begin{figure}[htbp]
		\centering
		\includegraphics[width=0.8\textwidth]{../figures/#1/#2_IntegratedAutocorrelation.pdf}
		\caption[Integrated autocorrelation time $\tau$ of the #3 per spin (#1)]{Integrated autocorrelation time $\tau$ of the #3 per spin using the #1 algorithm for lattice sizes $L \in \{4, 32, 128, 368\}$.}
		\label{fig:obs:#1:#2:integrated}
\end{figure}}

\begin{document}
	\frontmatter
		\maketitle
		\tableofcontents
		\thispagestyle{empty}

	\mainmatter
		\pagenumbering{arabic}
		
		% Introduction
		\input{chapters/introduction/introduction}
		
		% Theoretical background
		\input{chapters/theory/phase_transitions}
		\input{chapters/theory/xy_model}
		\input{chapters/theory/numerical_methods}
		
		% Implementation
		\input{chapters/implementation/general}
			\input{chapters/implementation/procedure}
				\input{chapters/implementation/scanning}
				\input{chapters/implementation/computing}
				\input{chapters/implementation/tasks}
			\input{chapters/implementation/optimizations}
			
			% Results
			\input{chapters/results/results}
			\input{chapters/results/energy}
			\input{chapters/results/magnetization}
			\input{chapters/results/vortex}
			\input{chapters/results/scaling}
			
			% Conclusion
			\input{chapters/conclusion/conclusion}
			
		\cleardoubleemptypage
		
	\appendix
		\input{chapters/appendix/source_code}
		\input{chapters/appendix/config}
		\input{chapters/appendix/schema}
		\input{chapters/appendix/observables}
		\input{chapters/appendix/vortices}
		
	\backmatter\pagenumbering{Roman}
		\listoffigures
		\bibliography{refs}
	
\end{document}